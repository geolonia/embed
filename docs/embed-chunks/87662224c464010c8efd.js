(self.webpackChunk_geolonia_embed=self.webpackChunk_geolonia_embed||[]).push([[621],{7577:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>y}),o(2526),o(1817),o(9070);var i=o(2739),l=o.n(i),r=o(1235),s=o(8007),a=o.n(s);function n(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c="#000000",u="#FFFFFF",g="rgba(255, 0, 0, 0.4)",p="#FFFFFF";const y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName="vt-geolonia-simple-style",this.url=t}var t,o;return t=e,(o=[{key:"addTo",value:function(e){var t=this,o=e.getContainer();if(!o.dataset||!o.dataset.lng&&!o.dataset.lat){var i=!1;e.on("sourcedata",(function(o){if(o.sourceId===t.sourceName){var l=e.getSource(o.sourceId);!0===(l&&l.loaded())&&(i||(i=!0,e.fitBounds(l.bounds,{duration:0,padding:30})))}}))}e.addSource(this.sourceName,{type:"vector",url:this.url}),this.setPolygonGeometries(e),this.setLineGeometries(e),e.addLayer({id:"vt-geolonia-simple-style-polygon-symbol",type:"symbol",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","Polygon"],paint:{"text-color":["string",["get","text-color"],c],"text-halo-color":["string",["get","text-halo-color"],u],"text-halo-width":1},layout:{"text-field":["get","title"],"text-font":["Noto Sans Regular"],"text-size":12,"text-max-width":12,"text-allow-overlap":!1}}),e.addLayer({id:"vt-geolonia-simple-style-linestring-symbol",type:"symbol",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","LineString"],paint:{"text-color":["string",["get","text-color"],c],"text-halo-color":["string",["get","text-halo-color"],u],"text-halo-width":1},layout:{"symbol-placement":"line","text-field":["get","title"],"text-font":["Noto Sans Regular"],"text-size":12,"text-max-width":12,"text-allow-overlap":!1}}),this.setPointGeometries(e)}},{key:"setPolygonGeometries",value:function(e){e.addLayer({id:"vt-geolonia-simple-style-polygon",type:"fill",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","Polygon"],paint:{"fill-color":["string",["get","fill"],g],"fill-opacity":["number",["get","fill-opacity"],1],"fill-outline-color":["string",["get","stroke"],p]}}),this.setPopup(e,"vt-geolonia-simple-style-polygon")}},{key:"setLineGeometries",value:function(e){e.addLayer({id:"vt-geolonia-simple-style-linestring",type:"line",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","LineString"],paint:{"line-width":["number",["get","stroke-width"],2],"line-color":["string",["get","stroke"],g],"line-opacity":["number",["get","stroke-opacity"],1]},layout:{"line-cap":"round","line-join":"round"}}),this.setPopup(e,"vt-geolonia-simple-style-linestring")}},{key:"setPointGeometries",value:function(e){e.addLayer({id:"vt-circle-simple-style-points",type:"circle",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","Point"],paint:{"circle-radius":["case",["==","small",["get","marker-size"]],7,["==","large",["get","marker-size"]],13,9],"circle-color":["string",["get","marker-color"],g],"circle-opacity":["number",["get","fill-opacity"],1],"circle-stroke-width":["number",["get","stroke-width"],1],"circle-stroke-color":["string",["get","stroke"],p],"circle-stroke-opacity":["number",["get","stroke-opacity"],1]}}),e.addLayer({id:"vt-geolonia-simple-style-points",type:"symbol",source:this.sourceName,"source-layer":"g-simplestyle-v1",filter:["==","$type","Point"],paint:{"text-color":["string",["get","text-color"],c],"text-halo-color":["string",["get","text-halo-color"],u],"text-halo-width":1},layout:{"icon-image":["case",["==","large",["get","marker-size"]],["image",["concat",["get","marker-symbol"],"-15"]],["image",["concat",["get","marker-symbol"],"-11"]]],"text-field":["get","title"],"text-font":["Noto Sans Regular"],"text-size":12,"text-anchor":"top","text-max-width":12,"text-offset":["case",["==","small",["get","marker-size"]],["literal",[0,.6]],["==","large",["get","marker-size"]],["literal",[0,1.2]],["literal",[0,.8]]],"text-allow-overlap":!1}}),this.setPopup(e,"vt-circle-simple-style-points")}},{key:"setPopup",value:function(e,t){e.on("click",t,(function(t){var o=(0,r.Z)(t.features[0]).geometry.coordinates,i=t.features[0].properties.description;i&&(new(l().Popup)).setLngLat(o).setHTML(a()(i)).addTo(e)})),e.on("mouseenter",t,(function(t){t.features[0].properties.description&&(e.getCanvas().style.cursor="pointer")})),e.on("mouseleave",t,(function(){e.getCanvas().style.cursor=""}))}}])&&n(t.prototype,o),e}()},5347:()=>{},1777:()=>{},4017:()=>{},9905:()=>{},4604:()=>{}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW1iZWQtY2h1bmtzLzg3NjYyMjI0YzQ2NDAxMGM4ZWZkLmpzIiwibWFwcGluZ3MiOiJpWUFNQSxJQUFNQSxFQUFZLFVBQ1pDLEVBQWdCLFVBQ2hCQyxFQUFrQix1QkFDbEJDLEVBQWMsVUEyTnBCLFFBek5NQyxXQUNKLFdBQVlDLEksNEZBQUssU0FDZkMsS0FBS0MsV0FBYSwyQkFDbEJELEtBQUtELElBQU1BLEUsMENBR2IsU0FBTUcsR0FBSyxXQUNIQyxFQUFZRCxFQUFJRSxlQUV0QixJQUFLRCxFQUFVRSxVQUFhRixFQUFVRSxRQUFRQyxNQUFRSCxFQUFVRSxRQUFRRSxJQUFNLENBQzVFLElBQUlDLEdBQWtCLEVBQ3RCTixFQUFJTyxHQUFHLGNBQWMsU0FBQ0MsR0FFcEIsR0FBSUEsRUFBTUMsV0FBYSxFQUFLVixXQUE1QixDQUVBLElBQU1XLEVBQVNWLEVBQUlXLFVBQVVILEVBQU1DLFdBS2xCLEtBRkFDLEdBQVVBLEVBQU9FLFlBSzlCTixJQUNKQSxHQUFrQixFQUVsQk4sRUFBSWEsVUFBVUgsRUFBT0ksT0FBUSxDQUMzQkMsU0FBVSxFQUNWQyxRQUFTLFdBS2ZoQixFQUFJaUIsVUFBVW5CLEtBQUtDLFdBQVksQ0FDN0JtQixLQUFNLFNBQ05yQixJQUFLQyxLQUFLRCxNQUdaQyxLQUFLcUIscUJBQXFCbkIsR0FDMUJGLEtBQUtzQixrQkFBa0JwQixHQUV2QkEsRUFBSXFCLFNBQVMsQ0FDWEMsR0FBSSwwQ0FDSkosS0FBTSxTQUNOUixPQUFRWixLQUFLQyxXQUNiLGVBQWdCLG1CQUNoQndCLE9BQVEsQ0FBQyxLQUFNLFFBQVMsV0FDeEJDLE1BQU8sQ0FDTCxhQUFjLENBQUMsU0FBVSxDQUFDLE1BQU8sY0FBZWhDLEdBQ2hELGtCQUFtQixDQUFDLFNBQVUsQ0FBQyxNQUFPLG1CQUFvQkMsR0FDMUQsa0JBQW1CLEdBRXJCZ0MsT0FBUSxDQUNOLGFBQWMsQ0FBQyxNQUFPLFNBQ3RCLFlBQWEsQ0FBQyxxQkFDZCxZQUFhLEdBQ2IsaUJBQWtCLEdBQ2xCLHNCQUFz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QyxVQUFXLENBQUMsRUFBRyxLQUN6RCxDQUFDLEtBQU0sUUFBUyxDQUFDLE1BQU8sZ0JBQWlCLENBQUMsVUFBVyxDQUFDLEVBQUcsTUFDekQsQ0FBQyxVQUFXLENBQUMsRUFBRyxNQUVsQixzQkFBc0IsS0FJMUIzQixLQUFLNkIsU0FBUzNCLEVBQUssbUMsc0JBR3JCLFNBQVNBLEVBQUtVLEdBQ1pWLEVBQUlPLEdBQUcsUUFBU0csR0FBUSxTQUFDa0IsR0FDdkIsSUFBTUMsR0FBU0MsRUFBQUEsRUFBQUEsR0FBV0YsRUFBRUcsU0FBUyxJQUFJQyxTQUFTQyxZQUM1Q0MsRUFBY04sRUFBRUcsU0FBUyxHQUFHSSxXQUFXRCxZQUV6Q0EsSUFDRixJQUFJRSxJQUFBQSxRQUFtQkMsVUFBVVIsR0FBUVMsUUFBUUMsR0FBQUEsQ0FBYUwsSUFBY00sTUFBTXhDLE1BSXRGQSxFQUFJTyxHQUFHLGFBQWNHLEdBQVEsU0FBQ2tCLEdBQ3hCQSxFQUFFRyxTQUFTLEdBQUdJLFdBQVdELGNBQzNCbEMsRUFBSXlDLFlBQVlDLE1BQU1DLE9BQVMsY0FJbkMzQyxFQUFJTyxHQUFHLGFBQWNHLEdBQVEsV0FDM0JWLEVBQUl5QyxZQUFZQyxNQUFNQyxPQUFTLFcsbUJBcE4vQi9DLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZ2VvbG9uaWEvZW1iZWQvLi9zcmMvbGliL3NpbXBsZXN0eWxlLXZlY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBtYXBsaWJyZWdsIGZyb20gJ21hcGxpYnJlLWdsJztcbmltcG9ydCB0dXJmQ2VudGVyIGZyb20gJ0B0dXJmL2NlbnRlcic7XG5pbXBvcnQgc2FuaXRpemVIdG1sIGZyb20gJ3Nhbml0aXplLWh0bWwnO1xuXG5jb25zdCB0ZXh0Q29sb3IgPSAnIzAwMDAwMCc7XG5jb25zdCB0ZXh0SGFsb0NvbG9yID0gJyNGRkZGRkYnO1xuY29uc3QgYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjU1LCAwLCAwLCAwLjQpJztcbmNvbnN0IHN0cm9rZUNvbG9yID0gJyNGRkZGRkYnO1xuXG5jbGFzcyBTaW1wbGVTdHlsZVZlY3RvciB7XG4gIGNvbnN0cnVjdG9yKHVybCkge1xuICAgIHRoaXMuc291cmNlTmFtZSA9ICd2dC1nZW9sb25pYS1zaW1wbGUtc3R5bGUnO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICB9XG5cbiAgYWRkVG8obWFwKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbWFwLmdldENvbnRhaW5lcigpO1xuXG4gICAgaWYgKCFjb250YWluZXIuZGF0YXNldCB8fCAoIWNvbnRhaW5lci5kYXRhc2V0LmxuZyAmJiAhY29udGFpbmVyLmRhdGFzZXQubGF0KSkge1xuICAgICAgbGV0IGluaXRpYWxab29tRG9uZSA9IGZhbHNlO1xuICAgICAgbWFwLm9uKCdzb3VyY2VkYXRhJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIC8vIHNraXAgZXZlbnRzIGZvciBzb3VyY2VzIHRoYXQgZG9uJ3QgY29uY2VybiB1c1xuICAgICAgICBpZiAoZXZlbnQuc291cmNlSWQgIT09IHRoaXMuc291cmNlTmFtZSkgeyByZXR1cm47IH1cblxuICAgICAgICBjb25zdCBzb3VyY2UgPSBtYXAuZ2V0U291cmNlKGV2ZW50LnNvdXJjZUlkKTtcbiAgICAgICAgLy8gcXVlcnkgdGhlIG1hcCB0byBzZWUgaWYgdGhlIHNvdXJjZSBpcyBhY3R1YWxseSBsb2FkZWQgb3Igbm90LiBXZSBjYW4ndCB0cnVzdCBgaXNTb3VyY2VMb2FkZWRgIGluIHRoZSBldmVudFxuICAgICAgICAvLyBiZWNhdXNlIGl0J3MgdW5yZWxpYWJsZSBhbmQgb2Z0ZW4gaW5jb3JyZWN0LlxuICAgICAgICBjb25zdCBpc0xvYWRlZCA9IHNvdXJjZSAmJiBzb3VyY2UubG9hZGVkKCk7XG5cbiAgICAgICAgaWYgKGlzTG9hZGVkICE9PSB0cnVlKSB7IHJldHVybjsgfVxuXG4gICAgICAgIC8vIE9ubHkgem9vbSBvbmNlLlxuICAgICAgICBpZiAoaW5pdGlhbFpvb21Eb25lKSB7IHJldHVybjsgfVxuICAgICAgICBpbml0aWFsWm9vbURvbmUgPSB0cnVlO1xuXG4gICAgICAgIG1hcC5maXRCb3VuZHMoc291cmNlLmJvdW5kcywge1xuICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgIHBhZGRpbmc6IDMwLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG1hcC5hZGRTb3VyY2UodGhpcy5zb3VyY2VOYW1lLCB7XG4gICAgICB0eXBlOiAndmVjdG9yJyxcbiAgICAgIHVybDogdGhpcy51cmwsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFBvbHlnb25HZW9tZXRyaWVzKG1hcCk7XG4gICAgdGhpcy5zZXRMaW5lR2VvbWV0cmllcyhtYXApO1xuXG4gICAgbWFwLmFkZExheWVyKHtcbiAgICAgIGlkOiAndnQtZ2VvbG9uaWEtc2ltcGxlLXN0eWxlLXBvbHlnb24tc3ltYm9sJyxcbiAgICAgIHR5cGU6ICdzeW1ib2wnLFxuICAgICAgc291cmNlOiB0aGlzLnNvdXJjZU5hbWUsXG4gICAgICAnc291cmNlLWxheWVyJzogJ2ctc2ltcGxlc3R5bGUtdjEnLFxuICAgICAgZmlsdGVyOiBbJz09JywgJyR0eXBlJywgJ1BvbHlnb24nXSxcbiAgICAgIHBhaW50OiB7XG4gICAgICAgICd0ZXh0LWNvbG9yJzogWydzdHJpbmcnLCBbJ2dldCcsICd0ZXh0LWNvbG9yJ10sIHRleHRDb2xvcl0sXG4gICAgICAgICd0ZXh0LWhhbG8tY29sb3InOiBbJ3N0cmluZycsIFsnZ2V0JywgJ3RleHQtaGFsby1jb2xvciddLCB0ZXh0SGFsb0NvbG9yXSxcbiAgICAgICAgJ3RleHQtaGFsby13aWR0aCc6IDEsXG4gICAgICB9LFxuICAgICAgbGF5b3V0OiB7XG4gICAgICAgICd0ZXh0LWZpZWxkJzogWydnZXQnLCAndGl0bGUnXSxcbiAgICAgICAgJ3RleHQtZm9udCc6IFsnTm90byBTYW5zIFJlZ3VsYXInXSxcbiAgICAgICAgJ3RleHQtc2l6ZSc6IDEyLFxuICAgICAgICAndGV4dC1tYXgtd2lkdGgnOiAxMixcbiAgICAgICAgJ3RleHQtYWxsb3ctb3ZlcmxhcCc6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIG1hcC5hZGRMYXllcih7XG4gICAgICBpZDogJ3Z0LWdlb2xvbmlhLXNpbXBsZS1zdHlsZS1saW5lc3RyaW5nLXN5bWJvbCcsXG4gICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VOYW1lLFxuICAgICAgJ3NvdXJjZS1sYXllcic6ICdnLXNpbXBsZXN0eWxlLXYxJyxcbiAgICAgIGZpbHRlcjogWyc9PScsICckdHlwZScsICdMaW5lU3RyaW5nJ10sXG4gICAgICBwYWludDoge1xuICAgICAgICAndGV4dC1jb2xvcic6IFsnc3RyaW5nJywgWydnZXQnLCAndGV4dC1jb2xvciddLCB0ZXh0Q29sb3JdLFxuICAgICAgICAndGV4dC1oYWxvLWNvbG9yJzogWydzdHJpbmcnLCBbJ2dldCcsICd0ZXh0LWhhbG8tY29sb3InXSwgdGV4dEhhbG9Db2xvcl0sXG4gICAgICAgICd0ZXh0LWhhbG8td2lkdGgnOiAxLFxuICAgICAgfSxcbiAgICAgIGxheW91dDoge1xuICAgICAgICAnc3ltYm9sLXBsYWNlbWVudCc6ICdsaW5lJyxcbiAgICAgICAgJ3RleHQtZmllbGQnOiBbJ2dldCcsICd0aXRsZSddLFxuICAgICAgICAndGV4dC1mb250JzogWydOb3RvIFNhbnMgUmVndWxhciddLFxuICAgICAgICAndGV4dC1zaXplJzogMTIsXG4gICAgICAgICd0ZXh0LW1heC13aWR0aCc6IDEyLFxuICAgICAgICAndGV4dC1hbGxvdy1vdmVybGFwJzogZmFsc2UsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRQb2ludEdlb21ldHJpZXMobWFwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcG9seWdvbiBnZW9tZXRyaWVzLlxuICAgKlxuICAgKiBAcGFyYW0gbWFwXG4gICAqL1xuICBzZXRQb2x5Z29uR2VvbWV0cmllcyhtYXApIHtcbiAgICBtYXAuYWRkTGF5ZXIoe1xuICAgICAgaWQ6ICd2dC1nZW9sb25pYS1zaW1wbGUtc3R5bGUtcG9seWdvbicsXG4gICAgICB0eXBlOiAnZmlsbCcsXG4gICAgICBzb3VyY2U6IHRoaXMuc291cmNlTmFtZSxcbiAgICAgICdzb3VyY2UtbGF5ZXInOiAnZy1zaW1wbGVzdHlsZS12MScsXG4gICAgICBmaWx0ZXI6IFsnPT0nLCAnJHR5cGUnLCAnUG9seWdvbiddLFxuICAgICAgcGFpbnQ6IHtcbiAgICAgICAgJ2ZpbGwtY29sb3InOiBbJ3N0cmluZycsIFsnZ2V0JywgJ2ZpbGwnXSwgYmFja2dyb3VuZENvbG9yXSxcbiAgICAgICAgJ2ZpbGwtb3BhY2l0eSc6IFsnbnVtYmVyJywgWydnZXQnLCAnZmlsbC1vcGFjaXR5J10sIDEuMF0sXG4gICAgICAgICdmaWxsLW91dGxpbmUtY29sb3InOiBbJ3N0cmluZycsIFsnZ2V0JywgJ3N0cm9rZSddLCBzdHJva2VDb2xvcl0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRQb3B1cChtYXAsICd2dC1nZW9sb25pYS1zaW1wbGUtc3R5bGUtcG9seWdvbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaW5lIGdlb21ldHJpZXMuXG4gICAqXG4gICAqIEBwYXJhbSBtYXBcbiAgICovXG4gIHNldExpbmVHZW9tZXRyaWVzKG1hcCkge1xuICAgIG1hcC5hZGRMYXllcih7XG4gICAgICBpZDogJ3Z0LWdlb2xvbmlhLXNpbXBsZS1zdHlsZS1saW5lc3RyaW5nJyxcbiAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VOYW1lLFxuICAgICAgJ3NvdXJjZS1sYXllcic6ICdnLXNpbXBsZXN0eWxlLXYxJyxcbiAgICAgIGZpbHRlcjogWyc9PScsICckdHlwZScsICdMaW5lU3RyaW5nJ10sXG4gICAgICBwYWludDoge1xuICAgICAgICAnbGluZS13aWR0aCc6IFsnbnVtYmVyJywgWydnZXQnLCAnc3Ryb2tlLXdpZHRoJ10sIDJdLFxuICAgICAgICAnbGluZS1jb2xvcic6IFsnc3RyaW5nJywgWydnZXQnLCAnc3Ryb2tlJ10sIGJhY2tncm91bmRDb2xvcl0sXG4gICAgICAgICdsaW5lLW9wYWNpdHknOiBbJ251bWJlcicsIFsnZ2V0JywgJ3N0cm9rZS1vcGFjaXR5J10sIDEuMF0sXG4gICAgICB9LFxuICAgICAgbGF5b3V0OiB7XG4gICAgICAgICdsaW5lLWNhcCc6ICdyb3VuZCcsXG4gICAgICAgICdsaW5lLWpvaW4nOiAncm91bmQnLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0UG9wdXAobWFwLCAndnQtZ2VvbG9uaWEtc2ltcGxlLXN0eWxlLWxpbmVzdHJpbmcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBwb2ludCBnZW9tZXRyaWVzLlxuICAgKlxuICAgKiBAcGFyYW0gbWFwXG4gICAqL1xuICBzZXRQb2ludEdlb21ldHJpZXMobWFwKSB7XG4gICAgbWFwLmFkZExheWVyKHtcbiAgICAgIGlkOiAndnQtY2lyY2xlLXNpbXBsZS1zdHlsZS1wb2ludHMnLFxuICAgICAgdHlwZTogJ2NpcmNsZScsXG4gICAgICBzb3VyY2U6IHRoaXMuc291cmNlTmFtZSxcbiAgICAgICdzb3VyY2UtbGF5ZXInOiAnZy1zaW1wbGVzdHlsZS12MScsXG4gICAgICBmaWx0ZXI6IFsnPT0nLCAnJHR5cGUnLCAnUG9pbnQnXSxcbiAgICAgIHBhaW50OiB7XG4gICAgICAgICdjaXJjbGUtcmFkaXVzJzogW1xuICAgICAgICAgICdjYXNlJyxcbiAgICAgICAgICBbJz09JywgJ3NtYWxsJywgWydnZXQnLCAnbWFya2VyLXNpemUnXV0sIDcsXG4gICAgICAgICAgWyc9PScsICdsYXJnZScsIFsnZ2V0JywgJ21hcmtlci1zaXplJ11dLCAxMyxcbiAgICAgICAgICA5LFxuICAgICAgICBdLFxuICAgICAgICAnY2lyY2xlLWNvbG9yJzogWydzdHJpbmcnLCBbJ2dldCcsICdtYXJrZXItY29sb3InXSwgYmFja2dyb3VuZENvbG9yXSxcbiAgICAgICAgJ2NpcmNsZS1vcGFjaXR5JzogWydudW1iZXInLCBbJ2dldCcsICdmaWxsLW9wYWNpdHknXSwgMS4wXSxcbiAgICAgICAgJ2NpcmNsZS1zdHJva2Utd2lkdGgnOiBbJ251bWJlcicsIFsnZ2V0JywgJ3N0cm9rZS13aWR0aCddLCAxXSxcbiAgICAgICAgJ2NpcmNsZS1zdHJva2UtY29sb3InOiBbJ3N0cmluZycsIFsnZ2V0JywgJ3N0cm9rZSddLCBzdHJva2VDb2xvcl0sXG4gICAgICAgICdjaXJjbGUtc3Ryb2tlLW9wYWNpdHknOiBbJ251bWJlcicsIFsnZ2V0JywgJ3N0cm9rZS1vcGFjaXR5J10sIDEuMF0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgbWFwLmFkZExheWVyKHtcbiAgICAgIGlkOiAndnQtZ2VvbG9uaWEtc2ltcGxlLXN0eWxlLXBvaW50cycsXG4gICAgICB0eXBlOiAnc3ltYm9sJyxcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2VOYW1lLFxuICAgICAgJ3NvdXJjZS1sYXllcic6ICdnLXNpbXBsZXN0eWxlLXYxJyxcbiAgICAgIGZpbHRlcjogWyc9PScsICckdHlwZScsICdQb2ludCddLFxuICAgICAgcGFpbnQ6IHtcbiAgICAgICAgJ3RleHQtY29sb3InOiBbJ3N0cmluZycsIFsnZ2V0JywgJ3RleHQtY29sb3InXSwgdGV4dENvbG9yXSxcbiAgICAgICAgJ3RleHQtaGFsby1jb2xvcic6IFsnc3RyaW5nJywgWydnZXQnLCAndGV4dC1oYWxvLWNvbG9yJ10sIHRleHRIYWxvQ29sb3JdLFxuICAgICAgICAndGV4dC1oYWxvLXdpZHRoJzogMSxcbiAgICAgIH0sXG4gICAgICBsYXlvdXQ6IHtcbiAgICAgICAgJ2ljb24taW1hZ2UnOiBbXG4gICAgICAgICAgJ2Nhc2UnLFxuICAgICAgICAgIFsnPT0nLCAnbGFyZ2UnLCBbJ2dldCcsICdtYXJrZXItc2l6ZSddXSwgWydpbWFnZScsIFsnY29uY2F0JywgWydnZXQnLCAnbWFya2VyLXN5bWJvbCddLCAnLTE1J11dLFxuICAgICAgICAgIFsnaW1hZ2UnLCBbJ2NvbmNhdCcsIFsnZ2V0JywgJ21hcmtlci1zeW1ib2wnXSwgJy0xMSddXSxcbiAgICAgICAgXSxcbiAgICAgICAgJ3RleHQtZmllbGQnOiBbJ2dldCcsICd0aXRsZSddLFxuICAgICAgICAndGV4dC1mb250JzogWydOb3RvIFNhbnMgUmVndWxhciddLFxuICAgICAgICAndGV4dC1zaXplJzogMTIsXG4gICAgICAgICd0ZXh0LWFuY2hvcic6ICd0b3AnLFxuICAgICAgICAndGV4dC1tYXgtd2lkdGgnOiAxMixcbiAgICAgICAgJ3RleHQtb2Zmc2V0JzogW1xuICAgICAgICAgICdjYXNlJyxcbiAgICAgICAgICBbJz09JywgJ3NtYWxsJywgWydnZXQnLCAnbWFya2VyLXNpemUnXV0sIFsnbGl0ZXJhbCcsIFswLCAwLjZdXSxcbiAgICAgICAgICBbJz09JywgJ2xhcmdlJywgWydnZXQnLCAnbWFya2VyLXNpemUnXV0sIFsnbGl0ZXJhbCcsIFswLCAxLjJdXSxcbiAgICAgICAgICBbJ2xpdGVyYWwnLCBbMCwgMC44XV0sXG4gICAgICAgIF0sXG4gICAgICAgICd0ZXh0LWFsbG93LW92ZXJsYXAnOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFBvcHVwKG1hcCwgJ3Z0LWNpcmNsZS1zaW1wbGUtc3R5bGUtcG9pbnRzJyk7XG4gIH1cblxuICBzZXRQb3B1cChtYXAsIHNvdXJjZSkge1xuICAgIG1hcC5vbignY2xpY2snLCBzb3VyY2UsIChlKSA9PiB7XG4gICAgICBjb25zdCBjZW50ZXIgPSB0dXJmQ2VudGVyKGUuZmVhdHVyZXNbMF0pLmdlb21ldHJ5LmNvb3JkaW5hdGVzO1xuICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuZGVzY3JpcHRpb247XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbikge1xuICAgICAgICBuZXcgbWFwbGlicmVnbC5Qb3B1cCgpLnNldExuZ0xhdChjZW50ZXIpLnNldEhUTUwoc2FuaXRpemVIdG1sKGRlc2NyaXB0aW9uKSkuYWRkVG8obWFwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1hcC5vbignbW91c2VlbnRlcicsIHNvdXJjZSwgKGUpID0+IHtcbiAgICAgIGlmIChlLmZlYXR1cmVzWzBdLnByb3BlcnRpZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1hcC5vbignbW91c2VsZWF2ZScsIHNvdXJjZSwgKCkgPT4ge1xuICAgICAgbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICcnO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXBsZVN0eWxlVmVjdG9yO1xuIl0sIm5hbWVzIjpbInRleHRDb2xvciIsInRleHRIYWxvQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzdHJva2VDb2xvciIsIlNpbXBsZVN0eWxlVmVjdG9yIiwidXJsIiwidGhpcyIsInNvdXJjZU5hbWUiLCJtYXAiLCJjb250YWluZXIiLCJnZXRDb250YWluZXIiLCJkYXRhc2V0IiwibG5nIiwibGF0IiwiaW5pdGlhbFpvb21Eb25lIiwib24iLCJldmVudCIsInNvdXJjZUlkIiwic291cmNlIiwiZ2V0U291cmNlIiwibG9hZGVkIiwiZml0Qm91bmRzIiwiYm91bmRzIiwiZHVyYXRpb24iLCJwYWRkaW5nIiwiYWRkU291cmNlIiwidHlwZSIsInNldFBvbHlnb25HZW9tZXRyaWVzIiwic2V0TGluZUdlb21ldHJpZXMiLCJhZGRMYXllciIsImlkIiwiZmlsdGVyIiwicGFpbnQiLCJsYXlvdXQiLCJzZXRQb2ludEdlb21ldHJpZXMiLCJzZXRQb3B1cCIsImUiLCJjZW50ZXIiLCJ0dXJmQ2VudGVyIiwiZmVhdHVyZXMiLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwiZGVzY3JpcHRpb24iLCJwcm9wZXJ0aWVzIiwibWFwbGlicmVnbCIsInNldExuZ0xhdCIsInNldEhUTUwiLCJzYW5pdGl6ZUh0bWwiLCJhZGRUbyIsImdldENhbnZhcyIsInN0eWxlIiwiY3Vyc29yIl0sInNvdXJjZVJvb3QiOiIifQ==